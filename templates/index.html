<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ticket Submission</title>
</head>

<style>
  .form-main {
    display: grid;
    grid-template-columns: max-content 1fr; /* Column 1 fits label, Column 2 fills space */
    gap: 10px 20px; /* Space between rows and columns */
    align-items: center; /* Vertically center items */
    max-width: 500px;
  }
  .form-main button {
      grid-column: 1 / -1; /* span full width */
      margin-top: 20px;
    }
    .form-main select {
    width: 180px; 
  }
  .form-main-header{
    display: block;
  }

  .content-list{
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
    }

  .content-list-header{
    display: none;
  }

    .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
        justify-content: center;
    }
    /* Style the buttons inside the tab */
    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
    }
    /* Change background color of buttons on hover */
    .tab button:hover {
        background-color: #ddd;
    }

    /* Create an active/current tablink class */
    .tab button.active {
        background-color: #ccc;
    }

</style>

<body>
    <!--making tabs-->
    <form class="tab" method="GET">
       <button type="submit" class="tablinks"
            formaction="{{ url_for('ticketSubmission') }}">
        Ticket Submission
        </button>
         <button type="submit" class="tablinks"
            formaction="{{ url_for('ticketList') }}">
        Ticket List
    </button>
    </form>

    <!-- make new class for this so it can dissapear on tab change-->
    <div class = form-main-header>
        <h1>Submit an IT support Ticket</h1>
    </div>
    <div class = content-list-header>
        <h1>It Ticket List</h1>
    </div>    
    
    
    <!-- Form to send data to Python -->
    <form class="form-main" action="submit" method="POST">
        <label for="name">Your Name</label>
        <input type="text" id="name" name="name">
        <label for="email">Your Email</label>
        <input type="text" id="email" name="email">
        <label for="department">Department</label>
        <select id=department name="department">
            <option value="sales"> Sales</option>
            <option value="HR"> HR</option>
            <option value="Finance"> Finance</option>
            <option value="Operations"> Operations</option>            
        </select>
        <label for="priority">Priority</label>
        <select id=priority name="priority">
            <option value="high"> High</option>
            <option value="medium"> Medium</option>
            <option value="low"> Low</option>
        </select>
        <label for="subject">Subject</label>
        <input type="text" id="subject" name="subject">
        <label for="description">Description</label>
        <textarea onclick="this.setSelectionRange(0, 0);" id="description" name="description" rows="4" cols="50">
        </textarea>
        <button type="submit">Submit Ticket</button>
    </form>
    <script>  
        

        tablinks = document.getElementsByClassName("tablinks");
        tablinks[0].classList.add("active")
    </script>

    <!-- Display results from Python -->
    {% if result %}
        {{result | length}}
    {% endif %}
</body>
</html>


<!--site for js and tab usage     https://www.w3schools.com/howto/howto_js_tabs.asp    -->

<!--use result variable to create new flag buttons, use js to create the buttons and use html to call the function in js-->